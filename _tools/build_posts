#!/bin/bash

# Move into the repo root (folder containing _tools and posts)
cd "$(dirname "$0")/.."

echo "ğŸ”„ Generating posts.jsonâ€¦"
python3 _tools/generate_posts_json.py

echo "ğŸ“¦ Staging changesâ€¦"
git add posts/posts.json

echo "ğŸ“ Committingâ€¦"
git commit -m "Update posts.json via build_posts script" || {
    echo "No changes to commit."
    exit 0
}

echo "â¬†ï¸  Pushingâ€¦"
git push

echo "âœ… Done. posts.json updated and pushed."
